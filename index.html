<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>GitHub Profile Viewer</title>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<style>
  body {
    font-family: Arial, sans-serif;
    background: linear-gradient(135deg, #667eea, #764ba2);
    color: #fff;
    margin: 0;
    padding: 0;
    display: flex;
    flex-direction: column;
    align-items: center;
  }
  h1 { margin: 20px 0; text-align: center; }
  input { padding: 10px; width: 250px; border-radius: 5px; border: none; margin-right: 10px; }
  button { padding: 10px 15px; border: none; border-radius: 5px; background-color: #8b5cf6; color: white; cursor: pointer; }
  button:hover { background-color: #a78bfa; }
  .card {
    background: rgba(255, 255, 255, 0.1);
    border-radius: 15px;
    padding: 20px;
    margin: 15px 0;
    width: 90%;
    max-width: 800px;
  }
  .profile {
    display: flex;
    flex-wrap: wrap;
    gap: 20px;
    align-items: center;
  }
  .profile img { width: 120px; border-radius: 50%; border: 2px solid white; }
  .profile-info { flex: 1; min-width: 200px; }
  .stats { margin-top: 10px; display: flex; flex-wrap: wrap; gap: 10px; }
  .stat { background: rgba(139, 92, 246, 0.4); padding: 5px 10px; border-radius: 10px; }
  ul { list-style: disc; padding-left: 20px; }
  a { color: #f3e8ff; text-decoration: none; }
  a:hover { text-decoration: underline; color: #d8b4fe; }
  canvas { background: rgba(0,0,0,0.1); border-radius: 15px; padding: 10px; }
</style>
</head>
<body>

<h1>GitHub Profile Viewer</h1>
<div>
  <input type="text" id="username" placeholder="GitHub username">
  <button id="searchBtn">Search</button>
</div>

<div id="userInfo"></div>

<script>
document.getElementById('searchBtn').addEventListener('click', async function() {
  const username = document.getElementById('username').value.trim();
  const container = document.getElementById('userInfo');
  if (!username) return alert('Enter a username');

  container.innerHTML = '<p>Loading...</p>';

  try {
    const userRes = await fetch(`https://api.github.com/users/${username}`);
    if (!userRes.ok) throw new Error('User not found');
    const user = await userRes.json();

    const repoRes = await fetch(`https://api.github.com/users/${username}/repos?per_page=100`);
    const repos = await repoRes.json();

    const langCount = {};
    repos.forEach(r => { if(r.language) langCount[r.language] = (langCount[r.language] || 0) + 1; });
    const languages = Object.keys(langCount);
    const counts = Object.values(langCount);

    container.innerHTML = `
      <div class="card profile">
        <img src="${user.avatar_url}">
        <div class="profile-info">
          <h2>${user.name || user.login}</h2>
          <p>${user.bio || ''}</p>
          <div class="stats">
            <div class="stat">Followers: ${user.followers}</div>
            <div class="stat">Following: ${user.following}</div>
            <div class="stat">Repos: ${user.public_repos}</div>
          </div>
          <p><a href="${user.html_url}" target="_blank">GitHub Profile</a></p>
          ${user.blog ? `<p><a href="${user.blog}" target="_blank">Blog</a></p>` : ''}
        </div>
      </div>

      <div class="card">
        <h3>Top Languages</h3>
        <canvas id="langChart" height="150"></canvas>
      </div>

      <div class="card">
        <h3>Recent Repositories</h3>
        <ul>
          ${repos.slice(0,10).map(r => `<li><a href="${r.html_url}" target="_blank">${r.name}</a> - ‚≠ê ${r.stargazers_count}</li>`).join('')}
        </ul>
      </div>
    `;

    new Chart(document.getElementById('langChart'), {
      type: 'doughnut',
      data: {
        labels: languages,
        datasets: [{
          data: counts,
          backgroundColor: [
            '#8b5cf6','#a78bfa','#c4b5fd','#d8b4fe','#e9d5ff','#f3e8ff','#c084fc','#a855f7','#9333ea','#7e22ce'
          ]
        }]
      },
      options: { responsive: true, plugins: { legend: { position: 'bottom', labels: { color: 'white' } } } }
    });

  } catch(err) {
    container.innerHTML = `<p style="color:red">${err.message}</p>`;
  }
});
</script>

</body>
</html>
